{"version":3,"sources":["Services/api.js","Views/HomeView/HomeView.js"],"names":["axios","defaults","baseURL","params","api_key","language","GetTrendingFilms","a","get","GetFilmByID","id","GetActorsByFilmId","GetReviewsByFilmId","page","SearchFilmByName","query","include_adult","HomeView","location","useLocation","url","useRouteMatch","useState","movies","setMovies","useEffect","response","status","data","results","Error","console","log","message","fetchData","map","movie","to","pathname","state","from","label","title"],"mappings":"iWAIAA,IAAMC,SAASC,QAFE,gCAGjBF,IAAMC,SAASE,OAAS,CAAEC,QAJV,mCAI4BC,SAAU,SAE/C,IAAMC,EAAgB,uCAAG,sBAAAC,EAAA,sEACjBP,IAAMQ,IAAN,uBADiB,mFAAH,qDAIhBC,EAAW,uCAAG,WAAMC,GAAN,SAAAH,EAAA,sEACZP,IAAMQ,IAAN,iBAAoBE,IADR,mFAAH,sDAIXC,EAAiB,uCAAG,WAAMD,GAAN,SAAAH,EAAA,sEAClBP,IAAMQ,IAAN,iBAAoBE,EAApB,aADkB,mFAAH,sDAIjBE,EAAkB,uCAAG,WAAMF,GAAN,SAAAH,EAAA,sEACnBP,IAAMQ,IAAN,iBAAoBE,EAApB,YAAkC,CAC7CP,OAAQ,CACNU,KAAM,KAHsB,mFAAH,sDASlBC,EAAgB,uCAAG,WAAMC,GAAN,SAAAR,EAAA,sEACjBP,IAAMQ,IAAN,gBAA2B,CACtCL,OAAQ,CACNY,QACAF,KAAM,EACNG,eAAe,KALW,mFAAH,uD,iHC2BdC,UAnDE,WACf,IAAMC,EAAWC,cACTC,EAAQC,cAARD,IACR,EAA4BE,mBAAS,MAArC,mBAAOC,EAAP,KAAeC,EAAf,KAmBA,OAjBAC,qBAAU,WAAM,4CACd,4BAAAlB,EAAA,+EAE2BD,cAF3B,UAG4B,OADlBoB,EAFV,QAGiBC,OAHjB,gBAIMH,EAAUE,EAASE,KAAKC,SAJ9B,4BAMY,IAAIC,MAAM,WAAaJ,EAASC,QAN5C,gEASII,QAAQC,IAAI,cAAgB,KAAMC,SATtC,kBAUW,MAVX,2DADc,uBAAC,WAAD,wBAcdC,KACC,IAGD,gCACE,gDACCX,GACC,6BACGA,EAAOY,KAAI,SAAAC,GAAK,OACf,6BAEE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,GAAD,OAAKlB,EAAL,kBAAkBgB,EAAM1B,IAChC6B,MAAO,CACLC,KAAM,CACJtB,WACAuB,MAAO,kBANf,SAWGL,EAAMM,SAbFN,EAAM1B","file":"static/js/home-page.674a3a0d.chunk.js","sourcesContent":["import axios from 'axios';\nconst API_KEY = '12355de9ae36d576f407c0d316008e50';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = { api_key: API_KEY, language: 'en-US' };\n\nexport const GetTrendingFilms = async () => {\n  return await axios.get(`/trending/movie/day`);\n};\n\nexport const GetFilmByID = async id => {\n  return await axios.get(`/movie/${id}`);\n};\n\nexport const GetActorsByFilmId = async id => {\n  return await axios.get(`/movie/${id}/credits`);\n};\n\nexport const GetReviewsByFilmId = async id => {\n  return await axios.get(`/movie/${id}/reviews`, {\n    params: {\n      page: 1,\n    },\n  });\n};\n\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\nexport const SearchFilmByName = async query => {\n  return await axios.get(`/search/movie`, {\n    params: {\n      query,\n      page: 1,\n      include_adult: false,\n    },\n  });\n};\n","import { useState, useEffect } from 'react';\nimport { Link, useRouteMatch, useLocation } from 'react-router-dom';\nimport { GetTrendingFilms } from '../../Services/api';\n\nconst HomeView = () => {\n  const location = useLocation();\n  const { url } = useRouteMatch();\n  const [movies, setMovies] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await GetTrendingFilms();\n        if (response.status === 200) {\n          setMovies(response.data.results);\n        } else {\n          throw new Error('Error - ' + response.status);\n        }\n      } catch (error) {\n        console.log('rejected   ' + error.message);\n        return null;\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <div>\n      <h1>Trending today</h1>\n      {movies && (\n        <ul>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              {/* <Link to={`${url}movies/${movie.id}`}>{movie.title}</Link> */}\n              <Link\n                to={{\n                  pathname: `${url}movies/${movie.id}`,\n                  state: {\n                    from: {\n                      location,\n                      label: 'Go Back HOME',\n                    },\n                  },\n                }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default HomeView;\n"],"sourceRoot":""}