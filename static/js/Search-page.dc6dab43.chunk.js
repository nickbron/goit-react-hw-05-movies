(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[3],{42:function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return f}));var n=r(40),a=r.n(n),c=r(41),i=r(44),o=r.n(i);o.a.defaults.baseURL="https://api.themoviedb.org/3/",o.a.defaults.params={api_key:"12355de9ae36d576f407c0d316008e50",language:"en-US"};var u=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/trending/movie/day");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/movie/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/movie/".concat(t,"/credits"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/movie/".concat(t,"/reviews"),{params:{page:1}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/search/movie",{params:{query:t,page:1,include_adult:!1}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},77:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,"default",(function(){return w}));var i=r(40),o=r.n(i),u=r(41),s=r(43),p=r(0),l=r(23),f=r(22);var b=Object(f.a)("header",{target:"ejd5z3j4"})({name:"geu48e",styles:"top:0;left:0;position:sticky;z-index:1100;display:flex;justify-content:center;align-items:center;padding-right:24px;padding-left:24px;padding-top:12px;padding-bottom:12px;color:#fff;background-color:#3f51b5;box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)"}),d=Object(f.a)("form",{target:"ejd5z3j3"})({name:"1rcv33n",styles:"display:flex;align-items:center;max-width:600px;background-color:#fff;border-radius:3px;overflow:hidden"}),j=Object(f.a)("button",{target:"ejd5z3j2"})({name:"1a3m8tj",styles:"display:inline-block;width:48px;height:48px;border:0;background-image:url('https://image.flaticon.com/icons/svg/149/149852.svg');background-size:40%;background-repeat:no-repeat;background-position:center;opacity:0.6;transition:opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;outline:none;&:hover{opacity:1;}"}),h=Object(f.a)("span",{target:"ejd5z3j1"})({name:"jnnlmv",styles:"position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;clip-path:inset(50%);border:0"}),g=Object(f.a)("input",{target:"ejd5z3j0"})({name:"g6sr3k",styles:"display:inline-block;width:100%;font:inherit;font-size:20px;border:none;outline:none;padding-left:4px;padding-right:4px;&::placeholder{font:inherit;font-size:18px;}"}),x=r(1),m=function(e){var t=e.onSearch;return Object(x.jsx)(b,{children:Object(x.jsxs)(d,{onSubmit:function(e){e.preventDefault(),""!==e.target.elements.filmName.value.trim()?t(e.target.elements.filmName.value):l.b.error("\u0414\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")},autoComplete:"off",children:[Object(x.jsx)(j,{type:"submit",children:Object(x.jsx)(h,{children:"Search"})}),Object(x.jsx)(g,{name:"filmName",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})})},O=r(42),v=r(3),y=r(11);function w(){var e=Object(p.useState)(null),t=Object(s.a)(e,2),r=t[0],n=t[1],a=Object(p.useState)(null),i=Object(s.a)(a,2),l=i[0],f=i[1],b=Object(v.i)().url,d=Object(v.g)(),j=Object(v.f)();Object(p.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.e)(r);case 3:if(200!==(t=e.sent).status){e.next=8;break}f(t.data.results),e.next=9;break;case 8:throw new Error("Error - "+t.status);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log("rejected   "+e.t0.message),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}null!==r&&function(){e.apply(this,arguments)}()}),[r]);var h=new URLSearchParams(d.search).get("query");return Object(p.useEffect)((function(){n(h)}),[h]),Object(x.jsxs)("div",{children:[Object(x.jsx)(m,{onSearch:function(e){n(e),j.push(c(c({},d),{},{search:"query=".concat(e)}))}}),Object(x.jsx)("div",{children:l&&Object(x.jsx)("ul",{children:l.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(y.b,{to:{pathname:"".concat(b,"/").concat(e.id),state:{from:{location:d,label:"On Search "}}},children:e.title})},e.id)}))})})]})}}}]);
//# sourceMappingURL=Search-page.dc6dab43.chunk.js.map